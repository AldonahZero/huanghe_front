# 项目详情页面 - 快速开始指南

## 🚀 立即体验

开发服务器已在 **http://localhost:3001** 启动

### 快速导航

1. **仪表盘页面**: http://localhost:3001/dashboard
2. **项目详情示例**:
   - AK-47 Redline: http://localhost:3001/dashboard/project/ak_redline
   - Bayonet Doppler: http://localhost:3001/dashboard/project/knife_bayonet
   - AWP Dragon Lore: http://localhost:3001/dashboard/project/awp_dragon
   - M4A1-S Neon Rider: http://localhost:3001/dashboard/project/m4a1_neon

## 📊 功能测试清单

### ✅ 基础功能
- [ ] 点击仪表盘卡片跳转到详情页
- [ ] 页面正确显示项目名称和图片
- [ ] 数据统计卡片显示正确的汇总数字

### ✅ 求购数据
- [ ] 显示前30名求购者列表
- [ ] 点击求购者查看位次分布
- [ ] 位次分布进度条正确显示
- [ ] 百分比计算准确

### ✅ 在售数据
- [ ] 显示前30名挂售者列表
- [ ] 用户信息(头像、名称、ID)正确显示
- [ ] 挂售次数统计准确

### ✅ 成交数据
- [ ] 标签页切换流畅
- [ ] 买入排行正确排序
- [ ] 卖出排行正确排序
- [ ] 交易关系正确展示双向交易
- [ ] 只显示交易3次以上的用户对

### ✅ 时间选择器
- [ ] 切换时间范围数据自动更新
- [ ] 不同时间范围统计数字变化
- [ ] 当前选中状态高亮显示

### ✅ 交互体验
- [ ] 返回按钮功能正常
- [ ] 卡片悬停效果
- [ ] 滚动流畅
- [ ] 响应式布局(手机/平板/桌面)

## 🎯 核心数据展示

### 求购位次分布示例

当你点击"玩家A"时,应该看到类似这样的展示:

```
玩家A (user_1001)
总求购: 28次

位次 1  ████████████████ 15次 (53.6%)
位次 3  ████████ 8次 (28.6%)
位次 5  ████ 5次 (17.9%)
```

### 交易关系示例

在"交易关系"标签页,应该看到:

```
#1 总交易: 13次

玩家A                    ⇄                    玩家B
user_1001                                  user_1023

买入 8次                                    买入 5次
(从 玩家B)                                 (从 玩家A)
```

## 🔍 数据验证要点

### 1. 一致性检查
- 买入排行中的用户A的买入次数
- 与卖出排行中找到对应交易的用户的卖出次数
- 应该能在交易关系中找到这些交易记录

### 2. 时间范围验证
- 切换到"最近1小时": 数据量应该很少
- 切换到"最近72小时": 数据量应该最多
- 统计数字应该随时间范围增大而增大

### 3. 用户ID唯一性
- 同一个 userId 在不同地方应该保持一致
- userName 可以不同(模拟名称可变的情况)
- 头像应该保持一致

## 🐛 已知问题和注意事项

### 当前使用模拟数据
- 所有数据都是随机生成的
- 每次刷新页面数据会变化
- 生产环境需要连接真实的后端API

### 性能提示
- 72小时数据量较大,计算可能需要1-2秒
- 建议默认使用24小时范围
- 长列表使用了overflow滚动

### 浏览器兼容性
- Chrome/Edge: 完全支持
- Firefox: 完全支持
- Safari: 完全支持
- IE11: 不支持(使用了现代CSS特性)

## 📱 响应式测试

### 桌面 (>1024px)
- 3列网格布局
- 完整展示所有信息

### 平板 (768px-1024px)
- 2列网格布局
- 适度压缩卡片

### 手机 (<768px)
- 1列布局
- 堆叠显示
- 触摸友好的按钮大小

## 🔧 开发者工具

### Chrome DevTools检查点
1. **Network**: 确认没有404错误
2. **Console**: 应该没有错误信息
3. **Performance**: 页面加载应该在2秒内完成
4. **Lighthouse**: 
   - Performance: >80
   - Accessibility: >90
   - Best Practices: >90

## 📝 代码质量

### TypeScript检查
```bash
pnpm tsc --noEmit
# ✓ 应该没有类型错误
```

### 代码结构
```
✓ 组件独立,职责清晰
✓ 数据分析逻辑分离
✓ TypeScript类型完整
✓ 使用了适当的React Hooks
✓ 客户端组件正确标记 "use client"
```

## 🎨 样式验证

### 颜色主题
- 求购: 蓝色 (#3B82F6, #DBEAFE)
- 在售: 绿色 (#10B981, #D1FAE5)
- 成交: 紫色 (#8B5CF6, #EDE9FE)

### 动画效果
- 卡片悬停: scale(1.05), transition 200ms
- 标签切换: 下划线滑动
- 进度条: 宽度过渡动画

## 🚦 下一步集成

要连接真实后端API:

1. 修改 `lib/projectAnalysis.ts`:
```typescript
// 替换 generateMockProjectData 为真实API调用
export async function fetchProjectData(projectId: string) {
  const response = await fetch(`/api/projects/${projectId}`);
  return response.json();
}
```

2. 修改页面组件:
```typescript
useEffect(() => {
  async function loadData() {
    const data = await fetchProjectData(projectId);
    setProjectData(data);
    // ...
  }
  loadData();
}, [projectId]);
```

## 📞 反馈和支持

如果发现任何问题或有改进建议:
1. 检查浏览器控制台是否有错误
2. 确认 Node.js 版本 >= 18
3. 尝试清除缓存: `rm -rf .next && pnpm dev`
4. 查看完整文档: `task/项目详情页面功能文档.md`

---

✨ **享受你的新功能!**
